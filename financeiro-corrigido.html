<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C&M Financial Pro - Gest√£o Financeira Inteligente</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
       :root {
    --cm-laranja: #FF9944;
    --cm-laranja-escuro: #D97B3A;
    --cm-verde-escuro: #2C5F4F;
    --cm-verde-claro: #3D8B73;
    --cm-bege: #F5E6D3;
    --cm-cinza-claro: #F8F9FA;
    --cor-verde: #10B981;
    --cor-vermelho: #EF4444;
    --cor-azul: #3B82F6;
}

.bg-cm-laranja { background-color: var(--cm-laranja); }
.bg-cm-escuro { background-color: var(--cm-verde-escuro); }
.bg-cm-bege { background-color: var(--cm-bege); }
.text-cm-laranja { color: var(--cm-laranja); }
.text-cm-escuro { color: var(--cm-verde-escuro); }
.border-cm-laranja { border-color: var(--cm-laranja); }
.border-cm-escuro { border-color: var(--cm-verde-escuro); }
        
        .card-hover {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        
        .receita { border-left: 4px solid var(--cor-verde); }
        .despesa { border-left: 4px solid var(--cor-vermelho); }
        .investimento { border-left: 4px solid var(--cor-laranja); }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 50;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            overflow-y: auto;
        }
        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .modal-content {
            background: white;
            border-radius: 12px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="app"></div>

    <!-- Modal Adicionar Transa√ß√£o -->
    <div id="modalTransacao" class="modal">
        <div class="modal-content">
            <div class="bg-cm-escuro text-white p-6 rounded-t-xl">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold" id="tituloModalTransacao">Nova Transa√ß√£o</h2>
                    <button onclick="app.fecharModal('modalTransacao')" class="text-white text-3xl">&times;</button>
                </div>
            </div>
            <div class="p-6" id="conteudoModalTransacao"></div>
        </div>
    </div>

    <!-- Modal Definir Meta -->
    <div id="modalMeta" class="modal">
        <div class="modal-content">
            <div class="bg-cm-escuro text-white p-6 rounded-t-xl">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold">üéØ Definir Meta Financeira</h2>
                    <button onclick="app.fecharModal('modalMeta')" class="text-white text-3xl">&times;</button>
                </div>
            </div>
            <div class="p-6" id="conteudoModalMeta"></div>
        </div>
    </div>

    <script>
// ========== T√âCNICAS DE ALAVANCAGEM FINANCEIRA ==========
const TECNICAS_ALAVANCAGEM = {
    curto_prazo: {
        titulo: "Alavancagem de Curto Prazo (7-30 dias)",
        tecnicas: [
            {
                nome: "Regra 50/30/20 Turbo",
                descricao: "50% Essencial | 30% Investimento/D√≠vidas | 20% Estilo de Vida",
                acao: "Inverta prioridades: pague d√≠vidas e invista ANTES de gastar",
                impacto: "Reduz juros e acelera patrim√¥nio em 3-6 meses"
            },
            {
                nome: "Efeito Bola de Neve (Snowball)",
                descricao: "Pague menor d√≠vida primeiro, depois use esse valor na pr√≥xima",
                acao: "Liste d√≠vidas da menor para maior. Ataque a menor com tudo",
                impacto: "Motiva√ß√£o psicol√≥gica + liberta√ß√£o progressiva"
            },
            {
                nome: "M√©todo Avalanche",
                descricao: "Pague d√≠vida com MAIOR juros primeiro",
                acao: "Calcule juros reais. Elimine cart√£o/cheque especial primeiro",
                impacto: "Economia m√°xima de juros (pode ser 40%+ ao ano)"
            },
            {
                nome: "Renda Extra Direcionada",
                descricao: "100% da renda extra vai para meta espec√≠fica",
                acao: "Freela, venda, bico = direto para d√≠vida ou investimento",
                impacto: "Acelera metas em 2-3x"
            },
            {
                nome: "Desafio Sem Gastos (No Spend Challenge)",
                descricao: "7-30 dias sem gastos n√£o essenciais",
                acao: "Congele cart√µes, use s√≥ dinheiro, zero delivery/uber",
                impacto: "Economiza 20-40% da renda facilmente"
            },
            {
                nome: "Automatiza√ß√£o Financeira",
                descricao: "Automatize investimento/pagamento no dia do sal√°rio",
                acao: "Configure d√©bito autom√°tico para poupan√ßa/investimento",
                impacto: "Remove tenta√ß√£o, garante disciplina"
            }
        ]
    },
    
    medio_prazo: {
        titulo: "Alavancagem de M√©dio Prazo (1-6 meses)",
        tecnicas: [
            {
                nome: "Reserva de Emerg√™ncia M√≠nima",
                descricao: "3-6 meses de despesas essenciais",
                acao: "Calcule despesas fixas √ó 3. Meta: acumular em 6 meses",
                impacto: "Seguran√ßa para n√£o voltar a se endividar"
            },
            {
                nome: "Renegocia√ß√£o Agressiva",
                descricao: "Negocie TUDO: d√≠vidas, planos, assinaturas",
                acao: "Ligue para cada credor. Pe√ßa 50-70% desconto √† vista",
                impacto: "Reduz d√≠vida total em 30-60%"
            },
            {
                nome: "M√∫ltiplas Fontes de Renda",
                descricao: "2-3 fontes de renda paralelas",
                acao: "Monetize habilidade: aulas, freela, digital",
                impacto: "Aumenta renda em 30-100%"
            }
        ]
    },
    
    regras_ouro: [
        "üí∞ Pague a SI MESMO primeiro - separe investimento antes de gastar",
        "üî• Juros compostos trabalham a SEU FAVOR ou CONTRA voc√™",
        "üìä Acompanhe DIARIAMENTE - 5min/dia salva seu futuro",
        "üéØ Meta sem prazo = sonho. Prazo sem a√ß√£o = ilus√£o",
        "‚ö° A√ß√£o imperfeita HOJE > plano perfeito amanh√£",
        "üö´ D√≠vida de consumo √© VENENO. D√≠vida de investimento √© ALAVANCA",
        "üí™ Desconforto tempor√°rio = liberdade permanente"
    ]
};

// ========== CATEGORIAS PADR√ÉO ==========
const CATEGORIAS = {
    receitas: ['Sal√°rio', 'Freela', 'Investimentos', 'Vendas', 'B√¥nus', 'Outros'],
    despesas: ['Moradia', 'Alimenta√ß√£o', 'Transporte', 'Sa√∫de', 'Educa√ß√£o', 'Lazer', 'D√≠vidas', 'Outros'],
    investimentos: ['Poupan√ßa', 'Tesouro Direto', 'CDB', 'A√ß√µes', 'Fundos', 'Cripto', 'Outros']
};

// ========== CLASSE PRINCIPAL ==========
class GestaoFinanceira {
    constructor() {
        this.paginaAtual = 'dashboard';
        this.transacoes = [];
        this.metas = [];
        this.orcamento = {
            essencial: 50,
            investimento: 30,
            estilo_vida: 20
        };
        
        this.carregarDados();
        this.render();
    }

    // ===== TRANSA√á√ïES =====
    abrirModalTransacao(tipo = 'receita') {
        document.getElementById('tituloModalTransacao').textContent = 
            tipo === 'receita' ? 'üí∞ Nova Receita' : 
            tipo === 'despesa' ? 'üí∏ Nova Despesa' : 'üìà Novo Investimento';
        
        const categorias = tipo === 'receita' ? CATEGORIAS.receitas : 
                          tipo === 'despesa' ? CATEGORIAS.despesas : CATEGORIAS.investimentos;
        
        document.getElementById('conteudoModalTransacao').innerHTML = `
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-semibold mb-2">üìù Descri√ß√£o</label>
                    <input type="text" id="descTransacao" class="w-full px-4 py-2 border-2 rounded-lg" placeholder="Ex: Sal√°rio de fevereiro">
                </div>
                <div>
                    <label class="block text-sm font-semibold mb-2">üíµ Valor (R$)</label>
                    <input type="number" id="valorTransacao" class="w-full px-4 py-2 border-2 rounded-lg" placeholder="0.00" step="0.01">
                </div>
                <div>
                    <label class="block text-sm font-semibold mb-2">üìÅ Categoria</label>
                    <select id="categoriaTransacao" class="w-full px-4 py-2 border-2 rounded-lg">
                        ${categorias.map(c => `<option value="${c}">${c}</option>`).join('')}
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-semibold mb-2">üìÖ Data</label>
                    <input type="date" id="dataTransacao" value="${new Date().toISOString().split('T')[0]}" class="w-full px-4 py-2 border-2 rounded-lg">
                </div>
                <div>
                    <label class="block text-sm font-semibold mb-2">üîÅ Recorrente?</label>
                    <select id="recorrenteTransacao" class="w-full px-4 py-2 border-2 rounded-lg">
                        <option value="false">N√£o</option>
                        <option value="mensal">Mensal</option>
                        <option value="semanal">Semanal</option>
                    </select>
                </div>
                <button onclick="app.salvarTransacao('${tipo}')" class="w-full bg-cm-laranja text-white py-3 rounded-lg font-bold text-lg hover:opacity-90">
                    üíæ Salvar ${tipo === 'receita' ? 'Receita' : tipo === 'despesa' ? 'Despesa' : 'Investimento'}
                </button>
            </div>
        `;
        
        document.getElementById('modalTransacao').classList.add('active');
    }

    salvarTransacao(tipo) {
        const transacao = {
            id: Date.now(),
            tipo,
            descricao: document.getElementById('descTransacao').value,
            valor: parseFloat(document.getElementById('valorTransacao').value),
            categoria: document.getElementById('categoriaTransacao').value,
            data: document.getElementById('dataTransacao').value,
            recorrente: document.getElementById('recorrenteTransacao').value,
            criado_em: new Date().toISOString()
        };

        if (!transacao.descricao || !transacao.valor || transacao.valor <= 0) {
            alert('‚ùå Preencha descri√ß√£o e valor v√°lido!');
            return;
        }

        this.transacoes.push(transacao);
        this.salvarDados();
        this.fecharModal('modalTransacao');
        alert('‚úÖ Transa√ß√£o registrada!');
        this.render();
    }
marcarComoPaga(id) {
    const transacao = this.transacoes.find(t => t.id === id);
    if (transacao && transacao.tipo === 'despesa') {
        transacao.paga = !transacao.paga;
        transacao.dataPagamento = transacao.paga ? new Date().toISOString() : null;
        this.salvarDados();
        this.render();
    }
}
    excluirTransacao(id) {
        if (confirm('Excluir esta transa√ß√£o?')) {
            this.transacoes = this.transacoes.filter(t => t.id !== id);
            this.salvarDados();
            this.render();
        }
    }

    // ===== METAS =====
    abrirModalMeta() {
        document.getElementById('conteudoModalMeta').innerHTML = `
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-semibold mb-2">üéØ Objetivo da Meta</label>
                    <input type="text" id="objetivoMeta" class="w-full px-4 py-2 border-2 rounded-lg" 
                        placeholder="Ex: Pagar d√≠vida do cart√£o">
                </div>
                <div>
                    <label class="block text-sm font-semibold mb-2">üí∞ Valor Total (R$)</label>
                    <input type="number" id="valorMeta" class="w-full px-4 py-2 border-2 rounded-lg" 
                        placeholder="5000.00" step="0.01">
                </div>
                <div>
                    <label class="block text-sm font-semibold mb-2">üìÖ Prazo (dias)</label>
                    <select id="prazoMeta" class="w-full px-4 py-2 border-2 rounded-lg">
                        <option value="7">7 dias (1 semana)</option>
                        <option value="15">15 dias</option>
                        <option value="30" selected>30 dias (1 m√™s)</option>
                        <option value="60">60 dias (2 meses)</option>
                        <option value="90">90 dias (3 meses)</option>
                        <option value="180">180 dias (6 meses)</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-semibold mb-2">üé® Tipo de Meta</label>
                    <select id="tipoMeta" class="w-full px-4 py-2 border-2 rounded-lg">
                        <option value="economizar">üí∞ Economizar/Juntar</option>
                        <option value="pagar_divida">üî• Pagar D√≠vida</option>
                        <option value="investir">üìà Investir</option>
                        <option value="renda_extra">üíº Gerar Renda Extra</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-semibold mb-2">üìù Estrat√©gia (opcional)</label>
                    <textarea id="estrategiaMeta" class="w-full px-4 py-2 border-2 rounded-lg" rows="3" 
                        placeholder="Ex: Fazer 3 freelas por semana + cortar gastos sup√©rfluos"></textarea>
                </div>
                <button onclick="app.salvarMeta()" class="w-full bg-cm-laranja text-white py-3 rounded-lg font-bold text-lg hover:opacity-90">
                    üéØ Criar Meta
                </button>
            </div>
        `;
        
        document.getElementById('modalMeta').classList.add('active');
    }

    salvarMeta() {
        const meta = {
            id: Date.now(),
            objetivo: document.getElementById('objetivoMeta').value,
            valorTotal: parseFloat(document.getElementById('valorMeta').value),
            valorAtual: 0,
            prazo: parseInt(document.getElementById('prazoMeta').value),
            tipo: document.getElementById('tipoMeta').value,
            estrategia: document.getElementById('estrategiaMeta').value,
            dataInicio: new Date().toISOString(),
            status: 'ativa'
        };

        if (!meta.objetivo || !meta.valorTotal || meta.valorTotal <= 0) {
            alert('‚ùå Preencha objetivo e valor v√°lido!');
            return;
        }

        meta.dataFim = new Date(Date.now() + meta.prazo * 24 * 60 * 60 * 1000).toISOString();
        meta.valorDiario = meta.valorTotal / meta.prazo;

        this.metas.push(meta);
        this.salvarDados();
        this.fecharModal('modalMeta');
        alert(`‚úÖ Meta criada! Voc√™ precisa de R$ ${meta.valorDiario.toFixed(2)}/dia`);
        this.render();
    }

    atualizarProgressoMeta(metaId) {
        const valor = parseFloat(prompt('Quanto voc√™ progrediu? (R$)'));
        if (!valor || valor <= 0) return;

        const meta = this.metas.find(m => m.id === metaId);
        if (meta) {
            meta.valorAtual += valor;
            if (meta.valorAtual >= meta.valorTotal) {
                meta.status = 'concluida';
                alert('üéâ PARAB√âNS! Meta conclu√≠da!');
            }
            this.salvarDados();
            this.render();
        }
    }

    excluirMeta(id) {
        if (confirm('Excluir esta meta?')) {
            this.metas = this.metas.filter(m => m.id !== id);
            this.salvarDados();
            this.render();
        }
    }

    // ===== C√ÅLCULOS =====
    calcularResumo(periodo = 'mes') {
        const hoje = new Date();
        const filtradas = this.transacoes.filter(t => {
            const dataTransacao = new Date(t.data);
            if (periodo === 'mes') {
                return dataTransacao.getMonth() === hoje.getMonth() && 
                       dataTransacao.getFullYear() === hoje.getFullYear();
            } else if (periodo === 'semana') {
                const diffTime = Math.abs(hoje - dataTransacao);
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                return diffDays <= 7;
            }
            return true;
        });

        const receitas = filtradas.filter(t => t.tipo === 'receita').reduce((s, t) => s + t.valor, 0);
        const despesas = filtradas.filter(t => t.tipo === 'despesa' && t.paga).reduce((s, t) => s + t.valor, 0);
        const despesasPendentes = filtradas.filter(t => t.tipo === 'despesa' && !t.paga).reduce((s, t) => s + t.valor, 0);
        const investimentos = filtradas.filter(t => t.tipo === 'investimento').reduce((s, t) => s + t.valor, 0);
        
        const saldo = receitas - despesas - investimentos;
        const taxaInvestimento = receitas > 0 ? ((investimentos / receitas) * 100).toFixed(1) : 0;
        const taxaGastos = receitas > 0 ? ((despesas / receitas) * 100).toFixed(1) : 0;

        return { receitas, despesas, investimentos, saldo, taxaInvestimento, taxaGastos, total: filtradas.length, despesasPendentes };
    }

    calcularPorCategoria() {
        const porCategoria = {};
        this.transacoes.forEach(t => {
            if (!porCategoria[t.categoria]) {
                porCategoria[t.categoria] = { total: 0, count: 0 };
            }
            porCategoria[t.categoria].total += t.valor;
            porCategoria[t.categoria].count++;
        });
        return Object.entries(porCategoria)
            .sort((a, b) => b[1].total - a[1].total)
            .slice(0, 10);
    }

    lancamentoRapido() {
        const desc = document.getElementById('quickDesc').value;
        const valor = parseFloat(document.getElementById('quickValor').value);
        const tipo = document.getElementById('quickTipo').value;
        
        if (!desc || !valor || valor <= 0) {
            alert('‚ùå Preencha descri√ß√£o e valor!');
            return;
        }
        
        this.transacoes.push({
            id: Date.now(),
            tipo,
            descricao: desc,
            valor,
            categoria: 'Outros',
            data: new Date().toISOString().split('T')[0],
            recorrente: 'false',
            paga: tipo === 'despesa' ? false : true,
            criado_em: new Date().toISOString()
        });
        
        this.salvarDados();
        document.getElementById('quickDesc').value = '';
        document.getElementById('quickValor').value = '';
        alert('‚úÖ Lan√ßado!');
        this.render();
    }

    calcularDividasAtrasadas() {
        const hoje = new Date();
        const atrasadas = this.transacoes.filter(t => {
            if (t.tipo !== 'despesa' || t.paga) return false;
            const dataTransacao = new Date(t.data);
            return dataTransacao < hoje;
        });
        
        const valorTotal = atrasadas.reduce((s, t) => s + t.valor, 0);
        return { quantidade: atrasadas.length, valor: valorTotal };
    }
    
    calcularDiasRestantes() {
        const hoje = new Date();
        const ultimoDia = new Date(hoje.getFullYear(), hoje.getMonth() + 1, 0);
        return ultimoDia.getDate() - hoje.getDate();
    }

    // ===== EXPORTAR =====
    exportarCSV() {
        let csv = 'Data,Tipo,Categoria,Descri√ß√£o,Valor\n';
        this.transacoes
            .sort((a, b) => new Date(b.data) - new Date(a.data))
            .forEach(t => {
                csv += `${t.data},${t.tipo},${t.categoria},"${t.descricao}",${t.valor}\n`;
            });

        const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = `financas_${new Date().toISOString().split('T')[0]}.csv`;
        link.click();
        alert('‚úÖ Planilha exportada!');
    }

    exportarJSON() {
        const dados = {
            transacoes: this.transacoes,
            metas: this.metas,
            orcamento: this.orcamento,
            exportado_em: new Date().toISOString()
        };

        const blob = new Blob([JSON.stringify(dados, null, 2)], { type: 'application/json' });
        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = `backup_financeiro_${new Date().toISOString().split('T')[0]}.json`;
        link.click();
        alert('‚úÖ Backup exportado!');
    }

    // ===== PERSIST√äNCIA =====
    salvarDados() {
        localStorage.setItem('financeiro_transacoes', JSON.stringify(this.transacoes));
        localStorage.setItem('financeiro_metas', JSON.stringify(this.metas));
        localStorage.setItem('financeiro_orcamento', JSON.stringify(this.orcamento));
    }

    carregarDados() {
        const t = localStorage.getItem('financeiro_transacoes');
        if (t) this.transacoes = JSON.parse(t);
        
        const m = localStorage.getItem('financeiro_metas');
        if (m) this.metas = JSON.parse(m);
        
        const o = localStorage.getItem('financeiro_orcamento');
        if (o) this.orcamento = JSON.parse(o);
    }

    limparDados() {
        if (confirm('‚ö†Ô∏è Apagar TODOS os dados?') && confirm('Tem certeza?')) {
            localStorage.clear();
            this.transacoes = [];
            this.metas = [];
            alert('‚úÖ Dados limpos!');
            this.render();
        }
    }

    fecharModal(id) {
        document.getElementById(id).classList.remove('active');
    }

    // ===== RENDERIZA√á√ÉO =====
    render() {
        const app = document.getElementById('app');
        const pages = {
            'dashboard': () => this.renderDashboard(),
            'transacoes': () => this.renderTransacoes(),
            'metas': () => this.renderMetas(),
            'alavancagem': () => this.renderAlavancagem(),
            'relatorios': () => this.renderRelatorios()
        };
        app.innerHTML = pages[this.paginaAtual]();
    }

  renderMenu(ativo) {
    const menus = [
        { id: 'dashboard', label: 'üìä Dashboard', icon: 'üìä' },
        { id: 'transacoes', label: 'üí∞ Transa√ß√µes', icon: 'üí∞' },
        { id: 'metas', label: 'üéØ Metas', icon: 'üéØ' },
        { id: 'alavancagem', label: 'üöÄ Alavancagem', icon: 'üöÄ' },
        { id: 'relatorios', label: 'üìà Relat√≥rios', icon: 'üìà' }
    ];

    return `
        <div class="bg-white shadow-md border-b-4 border-cm-laranja sticky top-0 z-40">
            <div class="max-w-7xl mx-auto flex gap-2 px-4 py-3 overflow-x-auto">
                ${menus.map(m => `
                    <button onclick="app.paginaAtual='${m.id}';app.render();" 
                        class="px-6 py-3 rounded-lg font-bold whitespace-nowrap text-sm transition-all ${
                            ativo === m.id 
                            ? 'bg-gradient-to-r from-cm-laranja to-cm-laranja-escuro text-white shadow-lg scale-105' 
                            : 'bg-cm-bege text-cm-verde-escuro hover:bg-cm-laranja hover:text-white'
                        }">
                        ${m.label}
                    </button>
                `).join('')}
            </div>
        </div>
    `;
}
renderDashboard() {
    const resumo = this.calcularResumo('mes');
    const diasRestantes = this.calcularDiasRestantes();
    const metasAtivas = this.metas.filter(m => m.status === 'ativa');
    
    const corSaldo = resumo.saldo >= 0 ? 'text-green-600' : 'text-red-600';
    const bgSaldo = resumo.saldo >= 0 ? 'bg-green-100 border-green-500' : 'bg-red-100 border-red-500';

    return `
        <div class="min-h-screen bg-gradient-to-br from-gray-50 to-cm-bege">
            <div class="bg-gradient-to-r from-cm-verde-escuro to-cm-verde-claro text-white shadow-xl">
                <div class="max-w-7xl mx-auto px-4 py-6">
                    <div class="flex items-center gap-4">
                        <div class="bg-cm-laranja text-cm-verde-escuro font-black text-2xl px-4 py-2 rounded-lg shadow-lg">
                            C&M
                        </div>
                        <div>
                            <h1 class="text-3xl font-bold">üíº Dashboard Financeiro</h1>
                            <p class="text-sm mt-1 opacity-90">Financial Pro - Gest√£o Inteligente</p>
                        </div>
                    </div>
                </div>
            </div>

            ${this.renderMenu('dashboard')}

            <div class="max-w-7xl mx-auto px-4 py-8">
                <!-- Resumo do M√™s -->
                <div class="bg-gradient-to-br from-cm-verde-escuro via-cm-verde-claro to-cm-laranja text-white rounded-2xl shadow-2xl p-8 mb-8 border-4 border-white">
                    <div class="flex justify-between items-start mb-6">
                        <div>
                            <div class="bg-white text-cm-verde-escuro px-4 py-2 rounded-lg inline-block mb-3">
                                <span class="font-black text-xl">C&M</span>
                            </div>
                            <h2 class="text-3xl font-bold mb-2">Resumo de Fevereiro 2026</h2>
                            <p class="text-sm opacity-90">Faltam ${diasRestantes} dias para o fim do m√™s</p>
                        </div>
                        <div class="text-right bg-white bg-opacity-20 rounded-xl p-4 backdrop-blur-sm">
                            <div class="text-sm opacity-90">Saldo do M√™s</div>
                            <div class="text-4xl font-black">${resumo.saldo >= 0 ? 'üí∞' : '‚ö†Ô∏è'} R$ ${resumo.saldo.toLocaleString('pt-BR', {minimumFractionDigits: 2})}</div>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-3 gap-4">
                        <div class="bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-5 border-2 border-white border-opacity-30">
                            <div class="text-sm opacity-90 mb-1">üí∞ Receitas</div>
                            <div class="text-3xl font-black">R$ ${resumo.receitas.toLocaleString('pt-BR')}</div>
                        </div>
                        <div class="bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-5 border-2 border-white border-opacity-30">
                            <div class="text-sm opacity-90 mb-1">üí∏ Despesas</div>
                            <div class="text-3xl font-black">R$ ${resumo.despesas.toLocaleString('pt-BR')}</div>
                        </div>
                        <div class="bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-5 border-2 border-white border-opacity-30">
                            <div class="text-sm opacity-90 mb-1">üìà Investimentos</div>
                            <div class="text-3xl font-black">R$ ${resumo.investimentos.toLocaleString('pt-BR')}</div>
                        </div>
                    </div>
                </div>

                <!-- Indicadores R√°pidos -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white rounded-xl shadow-lg p-6 border-l-4 border-cm-laranja hover:shadow-2xl transition-all">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="text-gray-600 text-sm mb-2 font-semibold">Taxa de Investimento</div>
                                <div class="text-4xl font-black text-cm-laranja">${resumo.taxaInvestimento}%</div>
                                <div class="text-xs text-gray-500 mt-1">Meta: 30%</div>
                            </div>
                            <div class="text-5xl">üìä</div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-lg p-6 border-l-4 border-cm-verde-escuro hover:shadow-2xl transition-all">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="text-gray-600 text-sm mb-2 font-semibold">Transa√ß√µes</div>
                                <div class="text-4xl font-black text-cm-verde-escuro">${resumo.total}</div>
                                <div class="text-xs text-gray-500 mt-1">Este m√™s</div>
                            </div>
                            <div class="text-5xl">üí≥</div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500 hover:shadow-2xl transition-all">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="text-gray-600 text-sm mb-2 font-semibold">Metas Ativas</div>
                                <div class="text-4xl font-black text-purple-600">${metasAtivas.length}</div>
                                <div class="text-xs text-gray-500 mt-1">Em progresso</div>
                            </div>
                            <div class="text-5xl">üéØ</div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-lg p-6 border-l-4 ${this.calcularDividasAtrasadas().quantidade > 0 ? 'border-red-500' : 'border-green-500'} hover:shadow-2xl transition-all">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="text-gray-600 text-sm mb-2 font-semibold">
                                    ${this.calcularDividasAtrasadas().quantidade > 0 ? 'Contas Atrasadas' : 'Contas em Dia'}
                                </div>
                                <div class="text-4xl font-black ${this.calcularDividasAtrasadas().quantidade > 0 ? 'text-red-600' : 'text-green-600'}">
                                    ${this.calcularDividasAtrasadas().quantidade > 0 ? this.calcularDividasAtrasadas().quantidade : '‚úì'}
                                </div>
                                <div class="text-xs text-gray-500 mt-1">
                                    ${this.calcularDividasAtrasadas().quantidade > 0 ? 
                                        `R$ ${this.calcularDividasAtrasadas().valor.toLocaleString('pt-BR')}` : 
                                        'Tudo OK'}
                                </div>
                            </div>
                            <div class="text-5xl">${this.calcularDividasAtrasadas().quantidade > 0 ? '‚ö†Ô∏è' : '‚úÖ'}</div>
                        </div>
                    </div>
                </div>

                <!-- Alertas de Despesas -->
                ${resumo.despesasPendentes > 0 ? `
                    <div class="bg-red-50 border-l-4 border-red-500 rounded-xl shadow-lg p-6 mb-8">
                        <div class="flex items-center gap-4">
                            <div class="text-4xl">‚ö†Ô∏è</div>
                            <div class="flex-1">
                                <h3 class="text-xl font-bold text-red-800">Despesas Pendentes</h3>
                                <p class="text-red-700 mt-1">Voc√™ tem <strong>R$ ${resumo.despesasPendentes.toLocaleString('pt-BR', {minimumFractionDigits: 2})}</strong> em contas n√£o pagas este m√™s</p>
                            </div>
                            <button onclick="app.paginaAtual='transacoes';app.render();" 
                                class="bg-red-500 text-white px-6 py-3 rounded-lg font-bold whitespace-nowrap hover:bg-red-600 transition-all">
                                Ver Contas
                            </button>
                        </div>
                    </div>
                ` : ''}

                <!-- Metas em Destaque -->
                ${metasAtivas.length > 0 ? `
                    <div class="bg-white rounded-2xl shadow-lg p-8 mb-8 border-t-4 border-cm-laranja">
                        <div class="flex items-center gap-3 mb-6">
                            <div class="bg-cm-laranja text-white p-3 rounded-lg">
                                <span class="text-2xl">üéØ</span>
                            </div>
                            <h2 class="text-2xl font-black text-cm-verde-escuro">Metas do M√™s</h2>
                        </div>
                        <div class="space-y-4">
                            ${metasAtivas.map(meta => {
                                const progresso = (meta.valorAtual / meta.valorTotal * 100).toFixed(1);
                                const diasPassados = Math.floor((new Date() - new Date(meta.dataInicio)) / (1000 * 60 * 60 * 24));
                                const diasRestantesMeta = meta.prazo - diasPassados;
                                const faltam = meta.valorTotal - meta.valorAtual;
                                
                                return `
                                    <div class="border-2 border-cm-laranja rounded-lg p-4 bg-gradient-to-r from-white to-cm-bege hover:shadow-xl transition-all">
                                        <div class="flex justify-between items-start mb-3">
                                            <div>
                                                <h3 class="font-bold text-lg text-cm-verde-escuro">${meta.objetivo}</h3>
                                                <p class="text-sm text-gray-600">Faltam ${diasRestantesMeta} dias ‚Ä¢ R$ ${meta.valorDiario.toFixed(2)}/dia</p>
                                            </div>
                                            <button onclick="app.atualizarProgressoMeta(${meta.id})" 
                                                class="bg-green-500 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-green-600 transition-all">
                                                ‚ûï Progresso
                                            </button>
                                        </div>
                                        <div class="mb-2">
                                            <div class="flex justify-between text-sm mb-1">
                                                <span>R$ ${meta.valorAtual.toLocaleString('pt-BR')} de R$ ${meta.valorTotal.toLocaleString('pt-BR')}</span>
                                                <span class="font-bold">${progresso}%</span>
                                            </div>
                                            <div class="w-full bg-gray-200 rounded-full h-4">
                                                <div class="bg-gradient-to-r from-cm-laranja to-cm-verde-escuro h-4 rounded-full transition-all" style="width: ${Math.min(progresso, 100)}%"></div>
                                            </div>
                                        </div>
                                        <div class="flex justify-between text-xs text-gray-600">
                                            <span>Faltam R$ ${faltam.toLocaleString('pt-BR')}</span>
                                            <span>${meta.tipo.replace('_', ' ')}</span>
                                        </div>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>
                ` : `
                    <div class="bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded-lg mb-8">
                        <h3 class="text-lg font-bold text-yellow-800 mb-2">üéØ Defina suas Metas!</h3>
                        <p class="text-gray-700 mb-4">Crie metas financeiras de curto prazo para acelerar seus resultados.</p>
                        <button onclick="app.abrirModalMeta()" class="bg-cm-laranja text-white px-6 py-2 rounded-lg font-semibold hover:bg-cm-laranja-escuro transition-all">
                            ‚ûï Criar Primeira Meta
                        </button>
                    </div>
                `}

                <!-- A√ß√µes R√°pidas -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <button onclick="app.abrirModalTransacao('receita')" 
                        class="group bg-gradient-to-br from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white p-8 rounded-2xl font-black text-2xl shadow-xl transform hover:scale-105 transition-all border-4 border-white">
                        <div class="text-6xl mb-3">üí∞</div>
                        <div>Nova Receita</div>
                        <div class="text-sm font-normal opacity-90 mt-2">Registrar entrada</div>
                    </button>
                    
                    <button onclick="app.abrirModalTransacao('despesa')" 
                        class="group bg-gradient-to-br from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white p-8 rounded-2xl font-black text-2xl shadow-xl transform hover:scale-105 transition-all border-4 border-white">
                        <div class="text-6xl mb-3">üí∏</div>
                        <div>Nova Despesa</div>
                        <div class="text-sm font-normal opacity-90 mt-2">Registrar sa√≠da</div>
                    </button>
                    
                    <button onclick="app.abrirModalTransacao('investimento')" 
                        class="group bg-gradient-to-br from-cm-laranja to-cm-laranja-escuro hover:from-cm-laranja-escuro hover:to-cm-verde-escuro text-white p-8 rounded-2xl font-black text-2xl shadow-xl transform hover:scale-105 transition-all border-4 border-white">
                        <div class="text-6xl mb-3">üìà</div>
                        <div>Investimento</div>
                        <div class="text-sm font-normal opacity-90 mt-2">Aplicar dinheiro</div>
                    </button>
                </div>

                <!-- Lan√ßamento R√°pido -->
                <div class="bg-gradient-to-r from-cm-bege to-white rounded-2xl shadow-lg p-6 border-4 border-cm-laranja">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="bg-cm-laranja text-white p-3 rounded-lg">
                            <span class="text-2xl">‚ö°</span>
                        </div>
                        <h3 class="text-2xl font-black text-cm-verde-escuro">Lan√ßamento R√°pido</h3>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-3">
                        <input type="text" id="quickDesc" placeholder="Descri√ß√£o" 
                            class="px-4 py-3 border-2 border-cm-laranja rounded-lg focus:ring-4 focus:ring-cm-laranja focus:ring-opacity-30 font-semibold">
                        <input type="number" id="quickValor" placeholder="R$ 0,00" step="0.01"
                            class="px-4 py-3 border-2 border-cm-laranja rounded-lg focus:ring-4 focus:ring-cm-laranja focus:ring-opacity-30 font-semibold">
                        <select id="quickTipo" class="px-4 py-3 border-2 border-cm-laranja rounded-lg focus:ring-4 focus:ring-cm-laranja focus:ring-opacity-30 font-semibold">
                            <option value="despesa">üí∏ Despesa</option>
                            <option value="receita">üí∞ Receita</option>
                            <option value="investimento">üìà Investimento</option>
                        </select>
                        <button onclick="app.lancamentoRapido()" 
                            class="bg-gradient-to-r from-cm-laranja to-cm-laranja-escuro hover:from-cm-verde-escuro hover:to-cm-verde-claro text-white py-3 rounded-lg font-black text-lg shadow-lg transform hover:scale-105 transition-all">
                            ‚ö° LAN√áAR
                        </button>
                    </div>
                </div>
            </div>
        </div>
    `;
}
   renderTransacoes() {
    const ultimas = [...this.transacoes]
        .sort((a, b) => new Date(b.data) - new Date(a.data))
        .slice(0, 50);

    return `
        <div class="min-h-screen bg-gradient-to-br from-gray-50 to-cm-bege">
            <div class="bg-gradient-to-r from-cm-verde-escuro to-cm-verde-claro text-white shadow-xl">
                <div class="max-w-7xl mx-auto px-4 py-6">
                    <div class="flex items-center gap-4">
                        <div class="bg-cm-laranja text-cm-verde-escuro font-black text-2xl px-4 py-2 rounded-lg shadow-lg">
                            C&M
                        </div>
                        <div>
                            <h1 class="text-3xl font-bold">üí∞ Gerenciar Transa√ß√µes</h1>
                            <p class="text-sm mt-1 opacity-90">Financial Pro - Gest√£o Inteligente</p>
                        </div>
                    </div>
                </div>
            </div>

            ${this.renderMenu('transacoes')}

            <div class="max-w-7xl mx-auto px-4 py-8">
                <div class="flex flex-wrap justify-between items-center mb-6 gap-4">
                    <h2 class="text-2xl font-black text-cm-verde-escuro">Hist√≥rico (${this.transacoes.length} transa√ß√µes)</h2>
                    <div class="flex gap-3">
                        <button onclick="app.abrirModalTransacao('receita')" class="bg-green-500 hover:bg-green-600 text-white px-5 py-3 rounded-lg font-bold shadow-lg transition-all">
                            ‚ûï Receita
                        </button>
                        <button onclick="app.abrirModalTransacao('despesa')" class="bg-red-500 hover:bg-red-600 text-white px-5 py-3 rounded-lg font-bold shadow-lg transition-all">
                            ‚ûï Despesa
                        </button>
                        <button onclick="app.abrirModalTransacao('investimento')" class="bg-cm-laranja hover:bg-cm-laranja-escuro text-white px-5 py-3 rounded-lg font-bold shadow-lg transition-all">
                            ‚ûï Investimento
                        </button>
                    </div>
                </div>

                ${ultimas.length === 0 ? `
                    <div class="bg-yellow-50 border-l-4 border-yellow-400 p-8 rounded-lg">
                        <h3 class="text-xl font-bold text-yellow-800 mb-2">üìù Comece Agora!</h3>
                        <p class="text-gray-700">Registre sua primeira transa√ß√£o para come√ßar o controle financeiro.</p>
                    </div>
                ` : `
                    <div class="bg-white rounded-2xl shadow-xl overflow-hidden border-t-4 border-cm-laranja">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gradient-to-r from-cm-verde-escuro to-cm-verde-claro text-white">
                                    <tr>
                                        <th class="px-6 py-4 text-left font-bold">Data</th>
                                        <th class="px-6 py-4 text-left font-bold">Descri√ß√£o</th>
                                        <th class="px-6 py-4 text-left font-bold">Categoria</th>
                                        <th class="px-6 py-4 text-right font-bold">Valor</th>
                                        <th class="px-6 py-4 text-center font-bold">A√ß√µes</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-200">
                                    ${ultimas.map(t => {
                                        const corValor = t.tipo === 'receita' ? 'text-green-600' : 'text-red-600';
                                        const sinal = t.tipo === 'receita' ? '+' : '-';
                                        const classeDiv = t.tipo === 'receita' ? 'receita' : t.tipo === 'despesa' ? 'despesa' : 'investimento';
                                        
                                        return `
                                            <tr class="hover:bg-cm-bege transition-all ${classeDiv}">
                                                <td class="px-6 py-4 text-sm font-semibold">${new Date(t.data).toLocaleDateString('pt-BR')}</td>
                                                <td class="px-6 py-4">
                                                    <div class="font-bold text-cm-verde-escuro">${t.descricao}</div>
                                                    ${t.recorrente !== 'false' ? `<div class="text-xs text-gray-500 mt-1">üîÅ ${t.recorrente}</div>` : ''}
                                                </td>
                                                <td class="px-6 py-4 text-sm">
                                                    <span class="bg-cm-bege border border-cm-laranja px-3 py-1 rounded-full text-xs font-bold text-cm-verde-escuro">${t.categoria}</span>
                                                </td>
                                                <td class="px-6 py-4 text-right">
                                                    <span class="font-black ${corValor} text-lg">${sinal} R$ ${t.valor.toLocaleString('pt-BR', {minimumFractionDigits: 2})}</span>
                                                </td>
                                                <td class="px-6 py-4 text-center">
                                                    ${t.tipo === 'despesa' ? `
                                                        <input type="checkbox" 
                                                            ${t.paga ? 'checked' : ''} 
                                                            onclick="app.marcarComoPaga(${t.id})"
                                                            class="w-5 h-5 cursor-pointer mr-3 accent-green-500">
                                                    ` : ''}
                                                    <button onclick="app.excluirTransacao(${t.id})" 
                                                        class="text-red-500 hover:text-red-700 font-bold text-lg transition-all">
                                                        üóëÔ∏è
                                                    </button>
                                                </td>
                                            </tr>
                                        `;
                                    }).join('')}
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="mt-8 flex gap-4">
                        <button onclick="app.exportarCSV()" class="bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg font-bold shadow-lg transition-all">
                            üì• Exportar CSV (Excel)
                        </button>
                        <button onclick="app.exportarJSON()" class="bg-cm-laranja hover:bg-cm-laranja-escuro text-white px-6 py-3 rounded-lg font-bold shadow-lg transition-all">
                            üíæ Backup JSON
                        </button>
                    </div>
                `}
            </div>
        </div>
    `;
}

renderMetas() {
    const ativas = this.metas.filter(m => m.status === 'ativa');
    const concluidas = this.metas.filter(m => m.status === 'concluida');

    return `
        <div class="min-h-screen bg-gradient-to-br from-gray-50 to-cm-bege">
            <div class="bg-gradient-to-r from-cm-verde-escuro to-cm-verde-claro text-white shadow-xl">
                <div class="max-w-7xl mx-auto px-4 py-6">
                    <div class="flex items-center gap-4">
                        <div class="bg-cm-laranja text-cm-verde-escuro font-black text-2xl px-4 py-2 rounded-lg shadow-lg">
                            C&M
                        </div>
                        <div>
                            <h1 class="text-3xl font-bold">üéØ Metas Financeiras</h1>
                            <p class="text-sm mt-1 opacity-90">Financial Pro - Gest√£o Inteligente</p>
                        </div>
                    </div>
                </div>
            </div>

            ${this.renderMenu('metas')}

            <div class="max-w-7xl mx-auto px-4 py-8">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-black text-cm-verde-escuro">Suas Metas</h2>
                    <button onclick="app.abrirModalMeta()" class="bg-gradient-to-r from-cm-laranja to-cm-laranja-escuro hover:from-cm-verde-escuro hover:to-cm-verde-claro text-white px-6 py-3 rounded-lg font-black shadow-lg transform hover:scale-105 transition-all">
                        ‚ûï Nova Meta
                    </button>
                </div>

                <!-- Metas Ativas -->
                ${ativas.length > 0 ? `
                    <div class="mb-8">
                        <h3 class="text-xl font-bold text-cm-laranja mb-4 flex items-center gap-2">
                            <span class="bg-cm-laranja text-white px-3 py-1 rounded-lg">üî•</span>
                            Em Progresso
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            ${ativas.map(meta => {
                                const progresso = (meta.valorAtual / meta.valorTotal * 100).toFixed(1);
                                const diasPassados = Math.floor((new Date() - new Date(meta.dataInicio)) / (1000 * 60 * 60 * 24));
                                const diasRestantes = meta.prazo - diasPassados;
                                const faltam = meta.valorTotal - meta.valorAtual;
                                const porDia = meta.valorDiario.toFixed(2);
                                
                                return `
                                    <div class="bg-white rounded-2xl shadow-xl p-6 border-t-4 border-cm-laranja hover:shadow-2xl transition-all">
                                        <div class="flex justify-between items-start mb-4">
                                            <div>
                                                <h4 class="text-xl font-black text-cm-verde-escuro">${meta.objetivo}</h4>
                                                <p class="text-sm text-gray-600 mt-1 font-semibold">${meta.tipo.replace('_', ' ')}</p>
                                            </div>
                                            <button onclick="app.excluirMeta(${meta.id})" class="text-red-500 hover:text-red-700 text-lg font-bold">
                                                üóëÔ∏è
                                            </button>
                                        </div>

                                        <div class="mb-4">
                                            <div class="flex justify-between text-sm mb-2 font-semibold">
                                                <span>R$ ${meta.valorAtual.toLocaleString('pt-BR')} / R$ ${meta.valorTotal.toLocaleString('pt-BR')}</span>
                                                <span class="font-bold text-cm-laranja">${progresso}%</span>
                                            </div>
                                            <div class="w-full bg-gray-200 rounded-full h-6 shadow-inner">
                                                <div class="bg-gradient-to-r from-cm-laranja to-cm-verde-escuro h-6 rounded-full flex items-center justify-center text-white text-xs font-bold transition-all" 
                                                    style="width: ${Math.min(progresso, 100)}%">
                                                    ${progresso}%
                                                </div>
                                            </div>
                                        </div>

                                        <div class="grid grid-cols-2 gap-4 mb-4 text-center">
                                            <div class="bg-gradient-to-br from-cm-bege to-white rounded-lg p-3 border-2 border-cm-laranja">
                                                <div class="text-3xl font-black text-cm-laranja">${diasRestantes}</div>
                                                <div class="text-xs text-gray-600 font-semibold">dias restantes</div>
                                            </div>
                                            <div class="bg-gradient-to-br from-cm-bege to-white rounded-lg p-3 border-2 border-cm-laranja">
                                                <div class="text-2xl font-black text-cm-laranja">R$ ${porDia}</div>
                                                <div class="text-xs text-gray-600 font-semibold">por dia</div>
                                            </div>
                                        </div>

                                        <div class="bg-yellow-50 border-l-4 border-yellow-400 p-3 rounded mb-4 text-sm">
                                            <strong>Faltam:</strong> R$ ${faltam.toLocaleString('pt-BR')}
                                        </div>

                                        ${meta.estrategia ? `
                                            <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded mb-4 text-sm">
                                                <strong>üí° Estrat√©gia:</strong> ${meta.estrategia}
                                            </div>
                                        ` : ''}

                                        <button onclick="app.atualizarProgressoMeta(${meta.id})" 
                                            class="w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white py-3 rounded-lg font-black shadow-lg transform hover:scale-105 transition-all">
                                            ‚ûï Atualizar Progresso
                                        </button>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>
                ` : ''}

                <!-- Metas Conclu√≠das -->
                ${concluidas.length > 0 ? `
                    <div>
                        <h3 class="text-xl font-bold text-green-600 mb-4 flex items-center gap-2">
                            <span class="bg-green-500 text-white px-3 py-1 rounded-lg">‚úÖ</span>
                            Conclu√≠das
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            ${concluidas.map(meta => `
                                <div class="bg-green-50 border-2 border-green-500 rounded-lg p-4 hover:shadow-xl transition-all">
                                    <h4 class="font-bold text-green-800">${meta.objetivo}</h4>
                                    <p class="text-sm text-green-600 mt-2 font-bold">R$ ${meta.valorTotal.toLocaleString('pt-BR')}</p>
                                    <p class="text-xs text-gray-600 mt-1">üéâ Conclu√≠da!</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                ` : ''}

                ${ativas.length === 0 && concluidas.length === 0 ? `
                    <div class="bg-yellow-50 border-l-4 border-yellow-400 p-8 rounded-lg">
                        <h3 class="text-xl font-bold text-yellow-800 mb-2">üéØ Crie sua Primeira Meta!</h3>
                        <p class="text-gray-700 mb-4">Defina objetivos financeiros de curto prazo (7-90 dias) e acompanhe seu progresso.</p>
                        <button onclick="app.abrirModalMeta()" class="bg-cm-laranja hover:bg-cm-laranja-escuro text-white px-6 py-3 rounded-lg font-bold shadow-lg transition-all">
                            ‚ûï Criar Meta Agora
                        </button>
                    </div>
                ` : ''}
            </div>
        </div>
    `;
}
renderAlavancagem() {
    return `
        <div class="min-h-screen bg-gradient-to-br from-gray-50 to-cm-bege">
            <div class="bg-gradient-to-r from-cm-verde-escuro to-cm-verde-claro text-white shadow-xl">
                <div class="max-w-7xl mx-auto px-4 py-6">
                    <div class="flex items-center gap-4">
                        <div class="bg-cm-laranja text-cm-verde-escuro font-black text-2xl px-4 py-2 rounded-lg shadow-lg">
                            C&M
                        </div>
                        <div>
                            <h1 class="text-3xl font-bold">üöÄ T√©cnicas de Alavancagem</h1>
                            <p class="text-sm mt-1 opacity-90">Financial Pro - Estrat√©gias Comprovadas</p>
                        </div>
                    </div>
                </div>
            </div>

            ${this.renderMenu('alavancagem')}

            <div class="max-w-7xl mx-auto px-4 py-8">
                <!-- Regras de Ouro -->
                <div class="bg-gradient-to-r from-yellow-400 via-cm-laranja to-cm-laranja-escuro text-white rounded-2xl shadow-2xl p-8 mb-8 border-4 border-white">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="bg-white text-cm-verde-escuro p-4 rounded-xl">
                            <span class="text-4xl">‚ö°</span>
                        </div>
                        <h2 class="text-3xl font-black">7 Regras de Ouro</h2>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        ${TECNICAS_ALAVANCAGEM.regras_ouro.map(regra => `
                            <div class="bg-white bg-opacity-20 backdrop-blur-sm rounded-xl p-5 border-2 border-white border-opacity-40 hover:bg-opacity-30 transition-all">
                                <p class="font-bold text-lg">${regra}</p>
                            </div>
                        `).join('')}
                    </div>
                </div>

                <!-- Curto Prazo -->
                <div class="bg-white rounded-2xl shadow-xl p-8 mb-8 border-t-4 border-cm-laranja">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="bg-cm-laranja text-white p-4 rounded-xl">
                            <span class="text-3xl">‚ö°</span>
                        </div>
                        <div>
                            <h2 class="text-3xl font-black text-cm-verde-escuro">${TECNICAS_ALAVANCAGEM.curto_prazo.titulo}</h2>
                            <p class="text-gray-600 font-semibold">Resultados vis√≠veis em dias ou semanas</p>
                        </div>
                    </div>
                    
                    <div class="space-y-6">
                        ${TECNICAS_ALAVANCAGEM.curto_prazo.tecnicas.map((t, index) => `
                            <div class="border-2 border-cm-laranja rounded-xl p-6 bg-gradient-to-r from-white to-cm-bege hover:shadow-2xl transition-all">
                                <div class="flex items-start gap-4 mb-4">
                                    <div class="bg-cm-laranja text-white font-black text-2xl w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0">
                                        ${index + 1}
                                    </div>
                                    <h3 class="text-2xl font-black text-cm-verde-escuro">üí° ${t.nome}</h3>
                                </div>
                                <div class="space-y-3 text-sm">
                                    <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-lg">
                                        <strong class="text-blue-800">üìñ O que √©:</strong>
                                        <p class="text-gray-700 mt-1">${t.descricao}</p>
                                    </div>
                                    <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded-lg">
                                        <strong class="text-green-800">üéØ Como fazer:</strong>
                                        <p class="text-gray-700 mt-1">${t.acao}</p>
                                    </div>
                                    <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded-lg">
                                        <strong class="text-yellow-800">üìà Impacto:</strong>
                                        <p class="text-gray-700 mt-1">${t.impacto}</p>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>

                <!-- M√©dio Prazo -->
                <div class="bg-white rounded-2xl shadow-xl p-8 border-t-4 border-cm-verde-escuro">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="bg-cm-verde-escuro text-white p-4 rounded-xl">
                            <span class="text-3xl">üíé</span>
                        </div>
                        <div>
                            <h2 class="text-3xl font-black text-cm-verde-escuro">${TECNICAS_ALAVANCAGEM.medio_prazo.titulo}</h2>
                            <p class="text-gray-600 font-semibold">Construa base s√≥lida para crescimento sustent√°vel</p>
                        </div>
                    </div>
                    
                    <div class="space-y-6">
                        ${TECNICAS_ALAVANCAGEM.medio_prazo.tecnicas.map((t, index) => `
                            <div class="border-2 border-cm-verde-escuro rounded-xl p-6 bg-gradient-to-r from-white to-green-50 hover:shadow-2xl transition-all">
                                <div class="flex items-start gap-4 mb-4">
                                    <div class="bg-cm-verde-escuro text-white font-black text-2xl w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0">
                                        ${index + 1}
                                    </div>
                                    <h3 class="text-2xl font-black text-cm-verde-escuro">üíé ${t.nome}</h3>
                                </div>
                                <div class="space-y-3 text-sm">
                                    <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-lg">
                                        <strong class="text-blue-800">üìñ O que √©:</strong>
                                        <p class="text-gray-700 mt-1">${t.descricao}</p>
                                    </div>
                                    <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded-lg">
                                        <strong class="text-green-800">üéØ Como fazer:</strong>
                                        <p class="text-gray-700 mt-1">${t.acao}</p>
                                    </div>
                                    <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded-lg">
                                        <strong class="text-yellow-800">üìà Impacto:</strong>
                                        <p class="text-gray-700 mt-1">${t.impacto}</p>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>

                <!-- CTA Final -->
                <div class="mt-8 bg-gradient-to-r from-cm-verde-escuro to-cm-laranja text-white rounded-2xl p-8 text-center border-4 border-white shadow-2xl">
                    <h3 class="text-3xl font-black mb-4">üéØ Pronto para Agir?</h3>
                    <p class="text-lg mb-6 opacity-90">Escolha UMA t√©cnica e comece HOJE. A√ß√£o imperfeita > Plano perfeito.</p>
                    <button onclick="app.paginaAtual='metas';app.render();" 
                        class="bg-white text-cm-verde-escuro px-8 py-4 rounded-xl font-black text-xl shadow-lg hover:scale-110 transition-all">
                        üöÄ Criar Minha Meta Agora
                    </button>
                </div>
            </div>
        </div>
    `;
}

   renderRelatorios() {
    const resumoMes = this.calcularResumo('mes');
    const porCategoria = this.calcularPorCategoria();

    return `
        <div class="min-h-screen bg-gradient-to-br from-gray-50 to-cm-bege">
            <div class="bg-gradient-to-r from-cm-verde-escuro to-cm-verde-claro text-white shadow-xl">
                <div class="max-w-7xl mx-auto px-4 py-6">
                    <div class="flex items-center gap-4">
                        <div class="bg-cm-laranja text-cm-verde-escuro font-black text-2xl px-4 py-2 rounded-lg shadow-lg">
                            C&M
                        </div>
                        <div>
                            <h1 class="text-3xl font-bold">üìà Relat√≥rios e An√°lises</h1>
                            <p class="text-sm mt-1 opacity-90">Financial Pro - Insights Inteligentes</p>
                        </div>
                    </div>
                </div>
            </div>

            ${this.renderMenu('relatorios')}

            <div class="max-w-7xl mx-auto px-4 py-8">
                <!-- Resumo Geral -->
                <div class="bg-white rounded-2xl shadow-xl p-8 mb-8 border-t-4 border-cm-laranja">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="bg-cm-laranja text-white p-4 rounded-xl">
                            <span class="text-3xl">üìä</span>
                        </div>
                        <h2 class="text-3xl font-black text-cm-verde-escuro">Resumo Geral</h2>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <h3 class="text-xl font-bold text-cm-verde-escuro mb-4 flex items-center gap-2">
                                <span class="bg-cm-verde-escuro text-white px-3 py-1 rounded-lg">üí∞</span>
                                Fluxo de Caixa
                            </h3>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center p-4 bg-green-50 rounded-xl border-2 border-green-500 hover:shadow-lg transition-all">
                                    <div class="flex items-center gap-3">
                                        <span class="text-3xl">üí∞</span>
                                        <span class="font-bold text-gray-700">Receitas</span>
                                    </div>
                                    <span class="font-black text-green-600 text-xl">R$ ${resumoMes.receitas.toLocaleString('pt-BR')}</span>
                                </div>
                                <div class="flex justify-between items-center p-4 bg-red-50 rounded-xl border-2 border-red-500 hover:shadow-lg transition-all">
                                    <div class="flex items-center gap-3">
                                        <span class="text-3xl">üí∏</span>
                                        <span class="font-bold text-gray-700">Despesas</span>
                                    </div>
                                    <span class="font-black text-red-600 text-xl">R$ ${resumoMes.despesas.toLocaleString('pt-BR')}</span>
                                </div>
                                <div class="flex justify-between items-center p-4 bg-blue-50 rounded-xl border-2 border-blue-500 hover:shadow-lg transition-all">
                                    <div class="flex items-center gap-3">
                                        <span class="text-3xl">üìà</span>
                                        <span class="font-bold text-gray-700">Investimentos</span>
                                    </div>
                                    <span class="font-black text-blue-600 text-xl">R$ ${resumoMes.investimentos.toLocaleString('pt-BR')}</span>
                                </div>
                                <div class="flex justify-between items-center p-5 bg-gradient-to-r from-cm-laranja to-cm-laranja-escuro rounded-xl border-4 border-cm-verde-escuro hover:shadow-2xl transition-all">
                                    <div class="flex items-center gap-3">
                                        <span class="text-3xl">üíº</span>
                                        <span class="font-black text-white text-lg">SALDO</span>
                                    </div>
                                    <span class="font-black text-white text-2xl">
                                        R$ ${resumoMes.saldo.toLocaleString('pt-BR', {minimumFractionDigits: 2})}
                                    </span>
                                </div>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xl font-bold text-cm-verde-escuro mb-4 flex items-center gap-2">
                                <span class="bg-cm-laranja text-white px-3 py-1 rounded-lg">üìä</span>
                                Top 10 Categorias
                            </h3>
                            <div class="space-y-2">
                                ${porCategoria.length > 0 ? porCategoria.map(([cat, dados], i) => `
                                    <div class="flex justify-between items-center p-3 bg-gradient-to-r from-cm-bege to-white rounded-lg border-l-4 border-cm-laranja hover:shadow-lg transition-all">
                                        <div class="flex items-center gap-3">
                                            <span class="bg-cm-laranja text-white font-black text-sm w-8 h-8 rounded-lg flex items-center justify-center">${i+1}</span>
                                            <span class="font-bold text-cm-verde-escuro">${cat}</span>
                                        </div>
                                        <span class="font-black text-cm-laranja">R$ ${dados.total.toLocaleString('pt-BR')}</span>
                                    </div>
                                `).join('') : `
                                    <div class="text-center text-gray-500 py-8">
                                        <p class="text-lg">Nenhuma transa√ß√£o registrada ainda</p>
                                    </div>
                                `}
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Indicadores de Performance -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div class="bg-gradient-to-br from-cm-laranja to-cm-laranja-escuro text-white rounded-2xl p-6 shadow-xl border-4 border-white">
                        <div class="text-5xl mb-3">üìä</div>
                        <div class="text-sm opacity-90 mb-2">Taxa de Investimento</div>
                        <div class="text-4xl font-black">${resumoMes.taxaInvestimento}%</div>
                        <div class="text-xs opacity-80 mt-2">Meta ideal: 30%</div>
                    </div>
                    
                    <div class="bg-gradient-to-br from-cm-verde-escuro to-cm-verde-claro text-white rounded-2xl p-6 shadow-xl border-4 border-white">
                        <div class="text-5xl mb-3">üí≥</div>
                        <div class="text-sm opacity-90 mb-2">Total de Transa√ß√µes</div>
                        <div class="text-4xl font-black">${this.transacoes.length}</div>
                        <div class="text-xs opacity-80 mt-2">Registros no sistema</div>
                    </div>
                    
                    <div class="bg-gradient-to-br from-purple-500 to-purple-600 text-white rounded-2xl p-6 shadow-xl border-4 border-white">
                        <div class="text-5xl mb-3">üéØ</div>
                        <div class="text-sm opacity-90 mb-2">Metas Cadastradas</div>
                        <div class="text-4xl font-black">${this.metas.length}</div>
                        <div class="text-xs opacity-80 mt-2">Total de objetivos</div>
                    </div>
                </div>

                <!-- Bot√µes de Exporta√ß√£o -->
                <div class="bg-white rounded-2xl shadow-xl p-8 mb-8 border-t-4 border-cm-verde-escuro">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="bg-cm-verde-escuro text-white p-4 rounded-xl">
                            <span class="text-3xl">üì•</span>
                        </div>
                        <h2 class="text-3xl font-black text-cm-verde-escuro">Exportar Dados</h2>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <button onclick="app.exportarCSV()" 
                            class="group bg-gradient-to-br from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white p-8 rounded-2xl font-black text-xl shadow-xl transform hover:scale-105 transition-all border-4 border-white">
                            <div class="text-6xl mb-3">üìä</div>
                            <div>Exportar Planilha</div>
                            <div class="text-sm font-normal opacity-90 mt-2">Formato CSV (Excel)</div>
                        </button>
                        <button onclick="app.exportarJSON()" 
                            class="group bg-gradient-to-br from-cm-laranja to-cm-laranja-escuro hover:from-cm-laranja-escuro hover:to-cm-verde-escuro text-white p-8 rounded-2xl font-black text-xl shadow-xl transform hover:scale-105 transition-all border-4 border-white">
                            <div class="text-6xl mb-3">üíæ</div>
                            <div>Backup Completo</div>
                            <div class="text-sm font-normal opacity-90 mt-2">Formato JSON</div>
                        </button>
                    </div>
                </div>

                <!-- Danger Zone -->
                <div class="bg-red-50 border-4 border-red-500 rounded-2xl p-8 shadow-xl">
                    <div class="flex items-center gap-4 mb-4">
                        <div class="bg-red-500 text-white p-4 rounded-xl">
                            <span class="text-3xl">‚ö†Ô∏è</span>
                        </div>
                        <h2 class="text-3xl font-black text-red-800">Zona de Perigo</h2>
                    </div>
                    <p class="text-gray-700 mb-6 font-semibold text-lg">‚ö†Ô∏è Cuidado! Esta a√ß√£o n√£o pode ser desfeita e apagar√° todos os seus dados permanentemente.</p>
                    <button onclick="app.limparDados()" 
                        class="bg-red-500 hover:bg-red-600 text-white px-8 py-4 rounded-xl font-black text-lg shadow-lg transform hover:scale-105 transition-all">
                        üóëÔ∏è Apagar Todos os Dados
                    </button>
                </div>
            </div>
        </div>
    `;
}

// Inicializa o app
const app = new GestaoFinanceira();
    </script>
</body>
</html>
