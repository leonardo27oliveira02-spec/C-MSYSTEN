<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C&M Financial Pro - GestÃ£o Financeira Inteligente</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --cm-laranja: #FF9944;
            --cm-laranja-escuro: #D97B3A;
            --cm-verde-escuro: #2C5F4F;
            --cm-verde-claro: #3D8B73;
            --cm-bege: #F5E6D3;
            --cm-cinza-claro: #F8F9FA;
            --cor-verde: #10B981;
            --cor-vermelho: #EF4444;
            --cor-azul: #3B82F6;
        }
        
        .bg-cm-laranja { background-color: var(--cm-laranja); }
        .bg-cm-laranja-escuro { background-color: var(--cm-laranja-escuro); }
        .bg-cm-escuro { background-color: var(--cm-verde-escuro); }
        .bg-cm-verde-escuro { background-color: var(--cm-verde-escuro); }
        .bg-cm-verde-claro { background-color: var(--cm-verde-claro); }
        .bg-cm-bege { background-color: var(--cm-bege); }
        .text-cm-laranja { color: var(--cm-laranja); }
        .text-cm-laranja-escuro { color: var(--cm-laranja-escuro); }
        .text-cm-escuro { color: var(--cm-verde-escuro); }
        .text-cm-verde-escuro { color: var(--cm-verde-escuro); }
        .border-cm-laranja { border-color: var(--cm-laranja); }
        .border-cm-escuro { border-color: var(--cm-verde-escuro); }
        
        .card-hover {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        
        .receita { border-left: 4px solid var(--cor-verde); }
        .despesa { border-left: 4px solid var(--cor-vermelho); }
        .investimento { border-left: 4px solid var(--cm-laranja); }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 50;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            overflow-y: auto;
        }
        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .modal-content {
            background: white;
            border-radius: 12px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="app"></div>

    <!-- BotÃ£o Flutuante Home -->
    <button onclick="app.paginaAtual='dashboard';app.render();" 
        class="fixed bottom-6 right-6 bg-gradient-to-r from-cm-laranja to-cm-laranja-escuro hover:from-cm-verde-escuro hover:to-cm-verde-claro text-white p-4 rounded-full shadow-2xl transform hover:scale-110 transition-all z-50 border-4 border-white">
        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
            <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
        </svg>
    </button>

    <!-- Modal Adicionar TransaÃ§Ã£o -->
    <div id="modalTransacao" class="modal">
        <div class="modal-content">
            <div class="bg-cm-escuro text-white p-6 rounded-t-xl">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold" id="tituloModalTransacao">Nova TransaÃ§Ã£o</h2>
                    <button onclick="app.fecharModal('modalTransacao')" class="text-white text-3xl">&times;</button>
                </div>
            </div>
            <div class="p-6" id="conteudoModalTransacao"></div>
        </div>
    </div>

    <!-- Modal Definir Meta -->
    <div id="modalMeta" class="modal">
        <div class="modal-content">
            <div class="bg-cm-escuro text-white p-6 rounded-t-xl">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold">ğŸ¯ Definir Meta Financeira</h2>
                    <button onclick="app.fecharModal('modalMeta')" class="text-white text-3xl">&times;</button>
                </div>
            </div>
            <div class="p-6" id="conteudoModalMeta"></div>
        </div>
    </div>

    <script>
// ========== TÃ‰CNICAS DE ALAVANCAGEM FINANCEIRA ==========
const TECNICAS_ALAVANCAGEM = {
    curto_prazo: {
        titulo: "Alavancagem de Curto Prazo (7-30 dias)",
        tecnicas: [
            {
                nome: "Regra 50/30/20 Turbo",
                descricao: "50% Essencial | 30% Investimento/DÃ­vidas | 20% Estilo de Vida",
                acao: "Inverta prioridades: pague dÃ­vidas e invista ANTES de gastar",
                impacto: "Reduz juros e acelera patrimÃ´nio em 3-6 meses"
            },
            {
                nome: "Efeito Bola de Neve (Snowball)",
                descricao: "Pague menor dÃ­vida primeiro, depois use esse valor na prÃ³xima",
                acao: "Liste dÃ­vidas da menor para maior. Ataque a menor com tudo",
                impacto: "MotivaÃ§Ã£o psicolÃ³gica + libertaÃ§Ã£o progressiva"
            },
            {
                nome: "MÃ©todo Avalanche",
                descricao: "Pague dÃ­vida com MAIOR juros primeiro",
                acao: "Calcule juros reais. Elimine cartÃ£o/cheque especial primeiro",
                impacto: "Economia mÃ¡xima de juros (pode ser 40%+ ao ano)"
            },
            {
                nome: "Renda Extra Direcionada",
                descricao: "100% da renda extra vai para meta especÃ­fica",
                acao: "Freela, venda, bico = direto para dÃ­vida ou investimento",
                impacto: "Acelera metas em 2-3x"
            },
            {
                nome: "Desafio Sem Gastos (No Spend Challenge)",
                descricao: "7-30 dias sem gastos nÃ£o essenciais",
                acao: "Congele cartÃµes, use sÃ³ dinheiro, zero delivery/uber",
                impacto: "Economiza 20-40% da renda facilmente"
            },
            {
                nome: "AutomatizaÃ§Ã£o Financeira",
                descricao: "Automatize investimento/pagamento no dia do salÃ¡rio",
                acao: "Configure dÃ©bito automÃ¡tico para poupanÃ§a/investimento",
                impacto: "Remove tentaÃ§Ã£o, garante disciplina"
            }
        ]
    },
    
    medio_prazo: {
        titulo: "Alavancagem de MÃ©dio Prazo (1-6 meses)",
        tecnicas: [
            {
                nome: "Reserva de EmergÃªncia MÃ­nima",
                descricao: "3-6 meses de despesas essenciais",
                acao: "Calcule despesas fixas Ã— 3. Meta: acumular em 6 meses",
                impacto: "SeguranÃ§a para nÃ£o voltar a se endividar"
            },
            {
                nome: "RenegociaÃ§Ã£o Agressiva",
                descricao: "Negocie TUDO: dÃ­vidas, planos, assinaturas",
                acao: "Ligue para cada credor. PeÃ§a 50-70% desconto Ã  vista",
                impacto: "Reduz dÃ­vida total em 30-60%"
            },
            {
                nome: "MÃºltiplas Fontes de Renda",
                descricao: "2-3 fontes de renda paralelas",
                acao: "Monetize habilidade: aulas, freela, digital",
                impacto: "Aumenta renda em 30-100%"
            }
        ]
    },
    
    regras_ouro: [
        "ğŸ’° Pague a SI MESMO primeiro - separe investimento antes de gastar",
        "ğŸ”¥ Juros compostos trabalham a SEU FAVOR ou CONTRA vocÃª",
        "ğŸ“Š Acompanhe DIARIAMENTE - 5min/dia salva seu futuro",
        "ğŸ¯ Meta sem prazo = sonho. Prazo sem aÃ§Ã£o = ilusÃ£o",
        "âš¡ AÃ§Ã£o imperfeita HOJE > plano perfeito amanhÃ£",
        "ğŸš« DÃ­vida de consumo Ã© VENENO. DÃ­vida de investimento Ã© ALAVANCA",
        "ğŸ’ª Desconforto temporÃ¡rio = liberdade permanente"
    ]
};

// ========== CATEGORIAS PADRÃƒO ==========
const CATEGORIAS = {
    receitas: ['SalÃ¡rio', 'Freela', 'Investimentos', 'Vendas', 'BÃ´nus', 'Outros'],
    despesas: ['Moradia', 'AlimentaÃ§Ã£o', 'Transporte', 'SaÃºde', 'EducaÃ§Ã£o', 'Lazer', 'DÃ­vidas', 'Outros'],
    investimentos: ['PoupanÃ§a', 'Tesouro Direto', 'CDB', 'AÃ§Ãµes', 'Fundos', 'Cripto', 'Outros']
};

// ========== CLASSE PRINCIPAL ==========
class GestaoFinanceira {
    constructor() {
        this.paginaAtual = 'dashboard';
        this.transacoes = [];
        this.metas = [];
        this.orcamento = {
            essencial: 50,
            investimento: 30,
            estilo_vida: 20
        };
        
        this.carregarDados();
        this.render();
    }

    // ===== TRANSAÃ‡Ã•ES =====
    abrirModalTransacao(tipo = 'receita') {
        document.getElementById('tituloModalTransacao').textContent = 
            tipo === 'receita' ? 'ğŸ’° Nova Receita' : 
            tipo === 'despesa' ? 'ğŸ’¸ Nova Despesa' : 'ğŸ“ˆ Novo Investimento';
        
        const categorias = tipo === 'receita' ? CATEGORIAS.receitas : 
                          tipo === 'despesa' ? CATEGORIAS.despesas : CATEGORIAS.investimentos;
        
        document.getElementById('conteudoModalTransacao').innerHTML = `
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-semibold mb-2">ğŸ“ DescriÃ§Ã£o</label>
                    <input type="text" id="descTransacao" class="w-full px-4 py-2 border-2 rounded-lg" placeholder="Ex: SalÃ¡rio de fevereiro">
                </div>
                <div>
                    <label class="block text-sm font-semibold mb-2">ğŸ’µ Valor (R$)</label>
                    <input type="number" id="valorTransacao" class="w-full px-4 py-2 border-2 rounded-lg" placeholder="0.00" step="0.01">
                </div>
                <div>
                    <label class="block text-sm font-semibold mb-2">ğŸ“ Categoria</label>
                    <select id="categoriaTransacao" class="w-full px-4 py-2 border-2 rounded-lg">
                        ${categorias.map(c => `<option value="${c}">${c}</option>`).join('')}
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-semibold mb-2">ğŸ“… Data</label>
                    <input type="date" id="dataTransacao" value="${new Date().toISOString().split('T')[0]}" class="w-full px-4 py-2 border-2 rounded-lg">
                </div>
                <div>
                    <label class="block text-sm font-semibold mb-2">ğŸ” Recorrente?</label>
                    <select id="recorrenteTransacao" class="w-full px-4 py-2 border-2 rounded-lg">
                        <option value="false">NÃ£o</option>
                        <option value="mensal">Mensal</option>
                        <option value="semanal">Semanal</option>
                    </select>
                </div>
                <button onclick="app.salvarTransacao('${tipo}')" class="w-full bg-cm-laranja text-white py-3 rounded-lg font-bold text-lg hover:opacity-90">
                    ğŸ’¾ Salvar ${tipo === 'receita' ? 'Receita' : tipo === 'despesa' ? 'Despesa' : 'Investimento'}
                </button>
            </div>
        `;
        
        document.getElementById('modalTransacao').classList.add('active');
    }

    salvarTransacao(tipo) {
        const transacao = {
            id: Date.now(),
            tipo,
            descricao: document.getElementById('descTransacao').value,
            valor: parseFloat(document.getElementById('valorTransacao').value),
            categoria: document.getElementById('categoriaTransacao').value,
            data: document.getElementById('dataTransacao').value,
            recorrente: document.getElementById('recorrenteTransacao').value,
            paga: tipo === 'despesa' ? false : true,
            criado_em: new Date().toISOString()
        };

        if (!transacao.descricao || !transacao.valor || transacao.valor <= 0) {
            alert('âŒ Preencha descriÃ§Ã£o e valor vÃ¡lido!');
            return;
        }

        this.transacoes.push(transacao);
        this.salvarDados();
        this.fecharModal('modalTransacao');
        alert('âœ… TransaÃ§Ã£o registrada!');
        this.render();
    }

    marcarComoPaga(id) {
        const transacao = this.transacoes.find(t => t.id === id);
        if (transacao && transacao.tipo === 'despesa') {
            transacao.paga = !transacao.paga;
            transacao.dataPagamento = transacao.paga ? new Date().toISOString() : null;
            this.salvarDados();
            this.render();
        }
    }

    excluirTransacao(id) {
        if (confirm('Excluir esta transaÃ§Ã£o?')) {
            this.transacoes = this.transacoes.filter(t => t.id !== id);
            this.salvarDados();
            this.render();
        }
    }

    // ===== METAS =====
    abrirModalMeta() {
        document.getElementById('conteudoModalMeta').innerHTML = `
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-semibold mb-2">ğŸ¯ Objetivo da Meta</label>
                    <input type="text" id="objetivoMeta" class="w-full px-4 py-2 border-2 rounded-lg" 
                        placeholder="Ex: Pagar dÃ­vida do cartÃ£o">
                </div>
                <div>
                    <label class="block text-sm font-semibold mb-2">ğŸ’° Valor Total (R$)</label>
                    <input type="number" id="valorMeta" class="w-full px-4 py-2 border-2 rounded-lg" 
                        placeholder="5000.00" step="0.01">
                </div>
                <div>
                    <label class="block text-sm font-semibold mb-2">ğŸ“… Prazo (dias)</label>
                    <select id="prazoMeta" class="w-full px-4 py-2 border-2 rounded-lg">
                        <option value="7">7 dias (1 semana)</option>
                        <option value="15">15 dias</option>
                        <option value="30" selected>30 dias (1 mÃªs)</option>
                        <option value="60">60 dias (2 meses)</option>
                        <option value="90">90 dias (3 meses)</option>
                        <option value="180">180 dias (6 meses)</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-semibold mb-2">ğŸ¨ Tipo de Meta</label>
                    <select id="tipoMeta" class="w-full px-4 py-2 border-2 rounded-lg">
                        <option value="economizar">ğŸ’° Economizar/Juntar</option>
                        <option value="pagar_divida">ğŸ”¥ Pagar DÃ­vida</option>
                        <option value="investir">ğŸ“ˆ Investir</option>
                        <option value="renda_extra">ğŸ’¼ Gerar Renda Extra</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-semibold mb-2">ğŸ“ EstratÃ©gia (opcional)</label>
                    <textarea id="estrategiaMeta" class="w-full px-4 py-2 border-2 rounded-lg" rows="3" 
                        placeholder="Ex: Fazer 3 freelas por semana + cortar gastos supÃ©rfluos"></textarea>
                </div>
                <button onclick="app.salvarMeta()" class="w-full bg-cm-laranja text-white py-3 rounded-lg font-bold text-lg hover:opacity-90">
                    ğŸ¯ Criar Meta
                </button>
            </div>
        `;
        
        document.getElementById('modalMeta').classList.add('active');
    }

    salvarMeta() {
        const meta = {
            id: Date.now(),
            objetivo: document.getElementById('objetivoMeta').value,
            valorTotal: parseFloat(document.getElementById('valorMeta').value),
            valorAtual: 0,
            prazo: parseInt(document.getElementById('prazoMeta').value),
            tipo: document.getElementById('tipoMeta').value,
            estrategia: document.getElementById('estrategiaMeta').value,
            dataInicio: new Date().toISOString(),
            status: 'ativa'
        };

        if (!meta.objetivo || !meta.valorTotal || meta.valorTotal <= 0) {
            alert('âŒ Preencha objetivo e valor vÃ¡lido!');
            return;
        }

        meta.dataFim = new Date(Date.now() + meta.prazo * 24 * 60 * 60 * 1000).toISOString();
        meta.valorDiario = meta.valorTotal / meta.prazo;

        this.metas.push(meta);
        this.salvarDados();
        this.fecharModal('modalMeta');
        alert(`âœ… Meta criada! VocÃª precisa de R$ ${meta.valorDiario.toFixed(2)}/dia`);
        this.render();
    }

    atualizarProgressoMeta(metaId) {
        const valor = parseFloat(prompt('Quanto vocÃª progrediu? (R$)'));
        if (!valor || valor <= 0) return;

        const meta = this.metas.find(m => m.id === metaId);
        if (meta) {
            meta.valorAtual += valor;
            if (meta.valorAtual >= meta.valorTotal) {
                meta.status = 'concluida';
                alert('ğŸ‰ PARABÃ‰NS! Meta concluÃ­da!');
            }
            this.salvarDados();
            this.render();
        }
    }

    excluirMeta(id) {
        if (confirm('Excluir esta meta?')) {
            this.metas = this.metas.filter(m => m.id !== id);
            this.salvarDados();
            this.render();
        }
    }

    // ===== CÃLCULOS =====
    calcularResumo(periodo = 'mes') {
        const hoje = new Date();
        const filtradas = this.transacoes.filter(t => {
            const dataTransacao = new Date(t.data);
            if (periodo === 'mes') {
                return dataTransacao.getMonth() === hoje.getMonth() && 
                       dataTransacao.getFullYear() === hoje.getFullYear();
            } else if (periodo === 'semana') {
                const diffTime = Math.abs(hoje - dataTransacao);
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                return diffDays <= 7;
            }
            return true;
        });

        const receitas = filtradas.filter(t => t.tipo === 'receita').reduce((s, t) => s + t.valor, 0);
        const despesas = filtradas.filter(t => t.tipo === 'despesa' && t.paga).reduce((s, t) => s + t.valor, 0);
        const despesasPendentes = filtradas.filter(t => t.tipo === 'despesa' && !t.paga).reduce((s, t) => s + t.valor, 0);
        const investimentos = filtradas.filter(t => t.tipo === 'investimento').reduce((s, t) => s + t.valor, 0);
        
        const saldo = receitas - despesas - investimentos;
        const taxaInvestimento = receitas > 0 ? ((investimentos / receitas) * 100).toFixed(1) : 0;
        const taxaGastos = receitas > 0 ? ((despesas / receitas) * 100).toFixed(1) : 0;

        return { receitas, despesas, investimentos, saldo, taxaInvestimento, taxaGastos, total: filtradas.length, despesasPendentes };
    }

    calcularPorCategoria() {
        const porCategoria = {};
        this.transacoes.forEach(t => {
            if (!porCategoria[t.categoria]) {
                porCategoria[t.categoria] = { total: 0, count: 0 };
            }
            porCategoria[t.categoria].total += t.valor;
            porCategoria[t.categoria].count++;
        });
        return Object.entries(porCategoria)
            .sort((a, b) => b[1].total - a[1].total)
            .slice(0, 10);
    }

    lancamentoRapido() {
        const desc = document.getElementById('quickDesc').value;
        const valor = parseFloat(document.getElementById('quickValor').value);
        const tipo = document.getElementById('quickTipo').value;
        
        if (!desc || !valor || valor <= 0) {
            alert('âŒ Preencha descriÃ§Ã£o e valor!');
            return;
        }
        
        this.transacoes.push({
            id: Date.now(),
            tipo,
            descricao: desc,
            valor,
            categoria: 'Outros',
            data: new Date().toISOString().split('T')[0],
            recorrente: 'false',
            paga: tipo === 'despesa' ? false : true,
            criado_em: new Date().toISOString()
        });
        
        this.salvarDados();
        document.getElementById('quickDesc').value = '';
        document.getElementById('quickValor').value = '';
        alert('âœ… LanÃ§ado!');
        this.render();
    }

    calcularDividasAtrasadas() {
        const hoje = new Date();
        const atrasadas = this.transacoes.filter(t => {
            if (t.tipo !== 'despesa' || t.paga) return false;
            const dataTransacao = new Date(t.data);
            return dataTransacao < hoje;
        });
        
        const valorTotal = atrasadas.reduce((s, t) => s + t.valor, 0);
        return { quantidade: atrasadas.length, valor: valorTotal };
    }

    calcularDiasRestantes() {
        const hoje = new Date();
        const ultimoDia = new Date(hoje.getFullYear(), hoje.getMonth() + 1, 0);
        return ultimoDia.getDate() - hoje.getDate();
    }

    // ===== EXPORTAR =====
    exportarCSV() {
        let csv = 'Data,Tipo,Categoria,DescriÃ§Ã£o,Valor\n';
        this.transacoes
            .sort((a, b) => new Date(b.data) - new Date(a.data))
            .forEach(t => {
                csv += `${t.data},${t.tipo},${t.categoria},"${t.descricao}",${t.valor}\n`;
            });

        const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = `financas_${new Date().toISOString().split('T')[0]}.csv`;
        link.click();
        alert('âœ… Planilha exportada!');
    }

    exportarJSON() {
        const dados = {
            transacoes: this.transacoes,
            metas: this.metas,
            orcamento: this.orcamento,
            exportado_em: new Date().toISOString()
        };

        const blob = new Blob([JSON.stringify(dados, null, 2)], { type: 'application/json' });
        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = `backup_financeiro_${new Date().toISOString().split('T')[0]}.json`;
        link.click();
        alert('âœ… Backup exportado!');
    }

    // ===== PERSISTÃŠNCIA =====
    salvarDados() {
        localStorage.setItem('financeiro_transacoes', JSON.stringify(this.transacoes));
        localStorage.setItem('financeiro_metas', JSON.stringify(this.metas));
        localStorage.setItem('financeiro_orcamento', JSON.stringify(this.orcamento));
    }

    carregarDados() {
        const t = localStorage.getItem('financeiro_transacoes');
        if (t) this.transacoes = JSON.parse(t);
        
        const m = localStorage.getItem('financeiro_metas');
        if (m) this.metas = JSON.parse(m);
        
        const o = localStorage.getItem('financeiro_orcamento');
        if (o) this.orcamento = JSON.parse(o);
    }

    limparDados() {
        if (confirm('âš ï¸ Apagar TODOS os dados?') && confirm('Tem certeza?')) {
            localStorage.clear();
            this.transacoes = [];
            this.metas = [];
            alert('âœ… Dados limpos!');
            this.render();
        }
    }

    fecharModal(id) {
        document.getElementById(id).classList.remove('active');
    }

    // ===== RENDERIZAÃ‡ÃƒO =====
    render() {
        const app = document.getElementById('app');
        const pages = {
            'dashboard': () => this.renderDashboard(),
            'transacoes': () => this.renderTransacoes(),
            'metas': () => this.renderMetas(),
            'alavancagem': () => this.renderAlavancagem(),
            'relatorios': () => this.renderRelatorios()
        };
        app.innerHTML = pages[this.paginaAtual]();
    }

    renderMenu(ativo) {
        const menus = [
            { id: 'dashboard', label: 'ğŸ“Š Dashboard', icon: 'ğŸ“Š' },
            { id: 'transacoes', label: 'ğŸ’° TransaÃ§Ãµes', icon: 'ğŸ’°' },
            { id: 'metas', label: 'ğŸ¯ Metas', icon: 'ğŸ¯' },
            { id: 'alavancagem', label: 'ğŸš€ Alavancagem', icon: 'ğŸš€' },
            { id: 'relatorios', label: 'ğŸ“ˆ RelatÃ³rios', icon: 'ğŸ“ˆ' }
        ];

        return `
            <div class="bg-white shadow-md border-b-4 border-cm-laranja sticky top-0 z-40">
                <div class="max-w-7xl mx-auto flex gap-2 px-4 py-3 overflow-x-auto">
                    ${menus.map(m => `
                        <button onclick="app.paginaAtual='${m.id}';app.render();" 
                            class="px-6 py-3 rounded-lg font-bold whitespace-nowrap text-sm transition-all ${
                                ativo === m.id 
                                ? 'bg-gradient-to-r from-cm-laranja to-cm-laranja-escuro text-white shadow-lg scale-105' 
                                : 'bg-cm-bege text-cm-verde-escuro hover:bg-cm-laranja hover:text-white'
                            }">
                            ${m.label}
                        </button>
                    `).join('')}
                </div>
            </div>
        `;
    }
